{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./js/constants.js","webpack:///./js/entry.js","webpack:///./js/game.js","webpack:///./js/game_view.js","webpack:///./js/health.js","webpack:///./js/orbs.js","webpack:///./js/particle.js","webpack:///./node_modules/animejs/lib/anime.es.js"],"names":["COLORS_ARRAY","SHORT_ARCS_ARRAY","BLUE","circleLight","grd","alpha","addColorStop","circleDark","circleEdge","timerLight","timerDark","RED","PURPLE","GREEN","ORANGE","shortArc","bottomRight","createArc","ctx","centerX","centerY","length","arc","Math","PI","translateTop","translate","translateBottom","bottomLeft","topLeft","topRight","REVERSE","SPINNER","document","addEventListener","canvas","getElementById","getContext","globalCompositeOperation","width","window","innerWidth","height","innerHeight","body","appendChild","game","GameView","welcomeSplash","playButton","classList","add","setTimeout","start","Game","gameView","playTime","mousePosX","mousePosY","clickable","maxWidth","minWidth","maxHeight","minHeight","safeWidth","random","safeHeight","orbSize","ringSize","health","Health","objects","points","bgm","Audio","gameOverSFX","bindEventListener","bind","draw","increasePlayTime","removeObject","generateOrb","makeClickable","expireOrbPointsReduction","playMusic","stopMusic","src","loop","play","pause","dt","stop","shift","randomColorIndex","floor","CONSTANT","randomColor","randomRange","timer","callback","i","color","number","randomShortArcIndex","randomShortArc","orb","Orb","push","miss","event","clientX","clientY","hitSound","missSound","keyCode","sqrt","circleRadius","ringRadius","initialRingRadius","active","perfect","good","poor","console","log","forEach","object","beginPath","angle","angleDlt","step","createLinearGradient","moveTo","lineTo","lineWidth","strokeStyle","setLineDash","stroke","closePath","font","fillStyle","textBaseline","textAlign","fillText","gameInstance","lastTime","Date","requestId","undefined","gameOver","orb2","orb3","frame","generateManyOrbs","requestAnimationFrame","animate","cancelAnimationFrame","requestID","alert","currentTime","now","clearRect","decay","gain","value","update","outlineHP","calcCurrentHP","currentHP","rect","fill","label","testRadius","alphaPerFrame","growthPerFrame","time","path","timerSize","activeOrb","expireOrb","expandRadiusFadeOut","checkActive","newRingRadius","createRadialGradient","save","grd2","Particle","mouseX","mouseY","radius","radians","velocity","x","cos","y","sin","fillstyle"],"mappings":"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AAiB;AAC/B;;AAEA;AACA,4EAA4E,aAAa;AACzF,+EAA+E,cAAc;AAC7F;;AAEA;;AAEA;AACA,qBAAqB,YAAY;AACjC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,+DAA+D,cAAc;AAC7E;AACA,wBAAwB,eAAe;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0FAA0F,oBAAoB;AAC9G,2DAA2D,oBAAoB;AAC/E,sEAAsE,cAAc;AACpF,yBAAyB,iBAAiB;AAC1C;;AAEA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA,QAAQ,4BAA4B,4BAA4B;AAChE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,WAAW;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB,wBAAwB;AAC5C,wBAAwB,YAAY;AACpC;AACA;AACA,aAAa,wBAAwB;AACrC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK,qDAAqD;AAC1D,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,0BAA0B;AAC5C;AACA,gBAAgB,qDAAqD;AACrE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,0BAA0B,4BAA4B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,uCAAuC,OAAO;AAC9C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,gCAAgC;AAChC,wDAAwD;AACxD,yDAAyD;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,+DAA+D,mCAAmC,EAAE;AACpG;;AAEA;AACA;AACA;AACA,YAAY,qDAAqD,gCAAgC;AACjG,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA,wCAAwC,6CAA6C;AACrF;AACA;AACA;AACA;AACA;AACA,4CAA4C,gDAAgD;AAC5F,KAAK;AACL;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA,4BAA4B,0CAA0C;AACtE;AACA,+BAA+B,wEAAwE;AACvG;AACA,GAAG,oBAAoB,kCAAkC,EAAE;AAC3D;;;AAGA;AACA,6EAA6E,yBAAyB,EAAE,kBAAkB,kBAAkB,EAAE;AAC9I,0BAA0B,wBAAwB,WAAW,EAAE,UAAU,EAAE;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,uBAAuB;AACrD,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA,iBAAiB,0BAA0B;AAC3C;AACA;;AAEA;AACA;AACA;AACA,kBAAkB,4DAA4D;AAC9E;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,sCAAsC,wCAAwC,EAAE;AAChF,+BAA+B,kBAAkB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,oBAAoB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA,2BAA2B,uBAAuB,EAAE;AACpD,iCAAiC,6BAA6B,EAAE;AAChE,8BAA8B,iBAAiB,EAAE;AACjD;AACA;AACA;AACA;AACA,sDAAsD,kCAAkC,EAAE;AAC1F;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG,kBAAkB,mBAAmB,EAAE;AAC1C;;AAEA;;AAEA;AACA;AACA,qCAAqC,sDAAsD;AAC3F;AACA,uFAAuF,0CAA0C,EAAE;AACnI,oFAAoF,uCAAuC,EAAE;AAC7H,0GAA0G,0DAA0D,EAAE;AACtK;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,mB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,4CAA4C,oBAAoB,EAAE;AAClE;AACA;AACA,GAAG;AACH,4CAA4C,mBAAmB,EAAE;AACjE;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA,qEAAqE,2BAA2B,EAAE;AAClG;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,2CAA2C,EAAE;AACpF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,yCAAyC;AACzD;;AAEA;AACA;AACA,qBAAqB,oBAAoB,OAAO,8BAA8B;AAC9E,KAAK;AACL,oCAAoC,OAAO,GAAG,gCAAgC;AAC9E;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,2CAA2C,0BAA0B,EAAE,cAAc;AAC7G;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,qBAAqB;AAC1C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gDAAgD,wBAAwB;AACxE;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,+BAA+B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,uBAAuB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,KAAK,GAAG,8BAA8B;AACtE,4GAA4G,sBAAsB;AAClI;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,iBAAiB;AACtC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B,QAAQ;AACnC,6BAA6B,kBAAkB;AAC/C;AACA;AACA;AACA,eAAe,UAAU;AACzB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,0BAA0B,iBAAiB;;AAE3C;;AAEA;;AAEA;;AAEA;AACA,iCAAiC,KAAK;AACtC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sCAAsC,KAAK;AAC3C;AACA;AACA;AACA;AACA,iCAAiC,KAAK;AACtC;AACA;AACA;AACA,8DAA8D,uBAAuB;AACrF;AACA,iDAAiD,kBAAkB;AACnE;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,eAAe;AACnC,qBAAqB,yBAAyB;AAC9C,mBAAmB,mBAAmB;AACtC;AACA,yBAAyB,WAAW;AACpC;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,oBAAoB;AACjD,6BAA6B,oBAAoB;AACjD;AACA;AACA;AACA;AACA,mBAAmB,qCAAqC,0CAA0C,EAAE,EAAE;AACtG,oCAAoC,qCAAqC,sEAAsE,EAAE,EAAE;AACnJ;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,uBAAuB,oCAAoC;AAC3D,+BAA+B,wBAAwB;AACvD,mBAAmB,qBAAqB,OAAO,0BAA0B;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,WAAW;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,0DAA0D;;AAE/E,oEAAK,EAAC","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./js/entry.js\");\n","export const COLORS_ARRAY = ['BLUE','RED']\r\n\r\nexport const SHORT_ARCS_ARRAY = ['bottomRight','bottomLeft','topLeft','topRight']\r\n\r\nexport const BLUE = {\r\n    circleLight: (grd, alpha) =>  grd.addColorStop(1.000, 'rgba(78, 102, 150, '+alpha+')'),\r\n    circleDark: (grd, alpha) =>  grd.addColorStop(0.000, 'rgba(24, 49, 73, '+alpha+')'),\r\n    circleEdge: '#e9e9e9',\r\n    timerLight: (grd) => grd.addColorStop(0, 'rgba(5, 160, 250, 0.5)'),\r\n    timerDark: (grd) => grd.addColorStop(1, 'rgba(163, 247, 222, 0.5)'),\r\n\r\n}\r\nexport const RED = {\r\n    circleLight: (grd, alpha) =>  grd.addColorStop(1.000, 'rgba(252, 153, 185, '+alpha+')'),\r\n    circleDark: (grd, alpha) =>  grd.addColorStop(0.000, 'rgba(252, 50, 121, '+alpha+')'),\r\n    circleEdge: '#e9e9e9',\r\n    timerLight: (grd) => grd.addColorStop(0, 'rgba(250, 242, 170, 0.9)'),\r\n    timerDark: (grd) => grd.addColorStop(1, 'rgba(250, 170, 246, 0.9)'),\r\n}\r\n\r\nexport const PURPLE = {\r\n    circleLight: (grd, alpha) =>  grd.addColorStop(1.000, 'rgba(164, 154, 166, '+alpha+')'),\r\n    circleDark: (grd, alpha) =>  grd.addColorStop(0.000, 'rgba(52, 31, 53, '+alpha+')'),\r\n    circleEdge: '#e9e9e9',\r\n    timerLight: (grd) => grd.addColorStop(0, 'rgba(5, 160, 250, 0.5)'),\r\n    timerDark: (grd) => grd.addColorStop(1, 'rgba(163, 247, 222, 0.5)'),\r\n}\r\n\r\nexport const GREEN = {\r\n    circleLight: (grd, alpha) =>  grd.addColorStop(0.000, 'rgba(204, 255, 204, '+alpha+')'),\r\n    circleDark: (grd, alpha) =>  grd.addColorStop(0.000, 'rgba(52, 31, 53, '+alpha+')'),\r\n    circleEdge: '#e9e9e9',\r\n    timerLight: (grd) => grd.addColorStop(0, 'rgba(5, 160, 250, 0.5)'),\r\n    timerDark: (grd) => grd.addColorStop(1, 'rgba(163, 247, 222, 0.5)'),\r\n}\r\n\r\nexport const ORANGE = {\r\n    circleLight: '#4a370e',\r\n    circleDark: '#e2723b',\r\n    circleEdge: '#e9e9e9',\r\n    timerLight: (grd) => grd.addColorStop(0, 'rgba(5, 160, 250, 0.5)'),\r\n    timerDark: (grd) => grd.addColorStop(1, 'rgba(163, 247, 222, 0.5)'),\r\n}\r\n\r\nexport const shortArc = {\r\n    bottomRight: {\r\n        createArc: (ctx, centerX, centerY, length) => ctx.arc(centerX, centerY, length, 0 * Math.PI, 0.5 * Math.PI),\r\n        translateTop: (ctx, length) => ctx.translate(-length, 0),\r\n        translateBottom: (ctx, length) => ctx.translate(0, -length)\r\n    },\r\n    bottomLeft: {\r\n        createArc: (ctx, centerX, centerY, length) => ctx.arc(centerX, centerY, length, 0.5 * Math.PI, 1 * Math.PI),\r\n        translateTop: (ctx, length) => ctx.translate(length, 0),\r\n        translateBottom: (ctx, length) => ctx.translate(0, -length)\r\n    },\r\n    topLeft: {\r\n        createArc: (ctx, centerX, centerY, length) => ctx.arc(centerX, centerY, length, 1 * Math.PI, 1.5 * Math.PI),\r\n        translateTop: (ctx, length) => ctx.translate(0, length),\r\n        translateBottom: (ctx, length) => ctx.translate(length, 0)\r\n    },\r\n    topRight: {\r\n        createArc: (ctx, centerX, centerY, length) => ctx.arc(centerX, centerY, length, 1.5 * Math.PI, 2 * Math.PI),\r\n        translateBottom: (ctx, length) => ctx.translate(-length, 0),\r\n        translateTop: (ctx, length) => ctx.translate(0, length)\r\n    }\r\n}\r\n\r\nexport const REVERSE = '⬄';\r\nexport const SPINNER = '⥁';\r\n\r\n// export const rainbowRing = {\r\n    // ctx.beginPath();\r\n    // ctx.arc(this.centerX, this.centerY, this.timerSize(), 0, 2 * Math.PI);\r\n    // ctx.lineWidth = 5;\r\n    // ctx.strokeStyle = \"hsla(\"+Math.random() * 360+\", 100%, 80%, 0.9)\";  \r\n    // ctx.stroke();\r\n    // ctx.closePath();\r\n// }\r\n\r\n","import * as CONSTANT from './constants';\r\nimport Orb from './orbs';\r\nimport GameView from './game_view.js';\r\nimport Game from './game';\r\n\r\n// Create the canvas\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n    const canvas = document.getElementById(\"game-canvas\");\r\n    const ctx = canvas.getContext(\"2d\");\r\n    ctx.globalCompositeOperation = 'destination-over'\r\n    canvas.width = window.innerWidth * 0.85;\r\n    canvas.height = window.innerHeight;\r\n    document.body.appendChild(canvas);\r\n    const game = new GameView(canvas,ctx);\r\n    // game.start();\r\n    const welcomeSplash = document.getElementById('welcome-splash')\r\n    const playButton = document.getElementById('play-button')\r\n    playButton.addEventListener('click', () => {\r\n        welcomeSplash.classList.add(\"hide\");\r\n        setTimeout(() => game.start(), 3000)\r\n    })\r\n    \r\n})\r\n\r\n// addEventListener('mousedown', e => console.log(e))\r\n// addEventListener('mousemove', e => console.log(e))\r\n// addEventListener('mousedown', e => console.log(e))\r\n\r\n","import Orb from './orbs';\r\nimport Particle from './particle'\r\nimport * as CONSTANT from './constants';\r\nimport Health from './health';\r\nimport anime from 'animejs/lib/anime.es.js';\r\n\r\n\r\nexport default class Game {\r\n    constructor(canvas, ctx, gameView) {\r\n        //Game board\r\n        this.canvas = canvas;\r\n        this.ctx = ctx;\r\n        this.playTime = 0;\r\n        this.gameView = gameView;\r\n        //Mousemove tracker\r\n        this.mousePosX = 0;\r\n        this.mousePosY = 0;\r\n        this.clickable = true;\r\n        //Dimensions\r\n        this.maxWidth = this.canvas.width - 300;\r\n        this.minWidth = 300\r\n        this.maxHeight = this.canvas.height - 300\r\n        this.minHeight = 300\r\n        this.safeWidth = (Math.random()*(this.maxWidth - this.minWidth)) + this.minWidth;\r\n        this.safeHeight = (Math.random()*(this.maxHeight - this.minHeight)) + this.minHeight;\r\n        // this.orb = new Orb((Math.random()*(this.maxWidth - this.minWidth)) + this.minWidth, (Math.random()*(this.maxHeight - this.minHeight)) + this.minHeight, 50, 'BLUE' , 1, 150, 3);\r\n        // this.orb = new Orb(300, 300, 50, 'BLUE' , 1, 150, 3);\r\n        //Orb sizing\r\n        this.orbSize = 75;\r\n        this.ringSize = this.orbSize * 3;\r\n        //Objects\r\n        this.health = new Health(1/20, 5, this, this.gameView)\r\n        this.objects = [];\r\n        //Points\r\n        this.points = 0;\r\n        //Music\r\n        this.bgm = new Audio();\r\n        this.gameOverSFX = new Audio ();\r\n        //Function\r\n        this.bindEventListener = this.bindEventListener.bind(this);\r\n        this.draw = this.draw.bind(this);\r\n        this.increasePlayTime = this.increasePlayTime.bind(this);\r\n        this.removeObject = this.removeObject.bind(this);\r\n        this.generateOrb = this.generateOrb.bind(this);\r\n        this.makeClickable = this.makeClickable.bind(this);\r\n        this.expireOrbPointsReduction = this.expireOrbPointsReduction.bind(this);\r\n        this.playMusic = this.playMusic.bind(this);\r\n        this.stopMusic = this.stopMusic.bind(this);\r\n    }\r\n\r\n    playMusic() {\r\n        this.bgm.src = \"assets/music/bgm2.mp3\";\r\n        this.bgm.loop = false;\r\n        this.bgm.play();\r\n\r\n        this.gameOverSFX.src = \"assets/music/gameoversfx.wav\";\r\n        this.gameOverSFX.loop = false;\r\n    }\r\n\r\n    stopMusic() {\r\n        this.bgm.pause();\r\n        setTimeout(()=>this.gameOverSFX.play(), 1000)\r\n        \r\n    }\r\n\r\n    increasePlayTime (dt) {\r\n        // console.log(dt)\r\n        this.playTime += dt\r\n        if (this.playTime > 137) {\r\n            this.gameView.stop();\r\n        }\r\n    }\r\n\r\n    makeClickable () {\r\n        this.clickable = true;\r\n    }\r\n\r\n    removeObject () {\r\n        this.objects.shift();\r\n        this.makeClickable();\r\n    }\r\n\r\n\r\n    generateManyOrbs () {\r\n        //Select random color\r\n        const randomColorIndex = Math.floor(Math.random()*CONSTANT.COLORS_ARRAY.length);\r\n        const randomColor = CONSTANT.COLORS_ARRAY[randomColorIndex];\r\n        //Select random of numbers to display\r\n        const randomRange = Math.floor(Math.random()*7) + 1;\r\n\r\n        let timer = 1;\r\n        if (this.playTime < 40) {\r\n            timer = 1.2\r\n        }\r\n        else if ((this.playTime > 39) && (this.playTime < 60)) {\r\n            timer = 1\r\n        }\r\n        else if ((this.playTime > 59) && (this.playTime < 80)) {\r\n            timer = 0.8\r\n        }\r\n        else if ((this.playTime > 79) && (this.playTime < 110)) {\r\n            timer = 1.2\r\n        }\r\n        else {\r\n            timer = 1\r\n        }\r\n        let callback;\r\n        for (let i = 1; i < (randomRange+1); i++) {\r\n            if (i === randomRange) {\r\n                callback = true;\r\n            }\r\n            else {\r\n                callback = false;\r\n            }\r\n            this.generateOrb(randomColor, i, timer, callback)\r\n        }\r\n    }\r\n\r\n    generateOrb (color, number, timer, callback) {\r\n        //Select random Arc\r\n        const randomShortArcIndex = Math.floor(Math.random()*CONSTANT.SHORT_ARCS_ARRAY.length);\r\n        const randomShortArc = CONSTANT.SHORT_ARCS_ARRAY[randomShortArcIndex];\r\n\r\n        //Create Orb\r\n        const orb = new Orb((Math.random()*(this.maxWidth - this.minWidth)) + this.minWidth, (Math.random()*(this.maxHeight - this.minHeight)) + this.minHeight, this.orbSize, color , number, this.ringSize, timer, this, callback)\r\n        setTimeout(() => this.objects.push(orb), (number-1) * (timer * 500))\r\n        \r\n    }\r\n\r\n    expireOrbPointsReduction () {\r\n        this.health.miss();\r\n    }\r\n\r\n    bindEventListener() {\r\n        this.canvas.addEventListener('mousemove', (event) => {\r\n            this.mousePosX = event.clientX;\r\n            this.mousePosY = event.clientY;\r\n        })\r\n        window.addEventListener(\"keydown\", (event) => {\r\n            let hitSound = new Audio();\r\n            hitSound.src = \"assets/music/taiko.wav\";\r\n            hitSound.loop = false;\r\n            let missSound = new Audio();\r\n            missSound.src = \"assets/music/whoosh.mp3\";\r\n            missSound.loop = false;\r\n            switch(event.keyCode) {\r\n                case 88:\r\n                    if (this.objects[0] instanceof Orb) {\r\n                        if (Math.sqrt((this.mousePosX-this.objects[0].centerX)*(this.mousePosX-this.objects[0].centerX) + (this.mousePosY-this.objects[0].centerY)*(this.mousePosY-this.objects[0].centerY)) < this.objects[0].circleRadius) {\r\n                            if ((this.objects[0].ringRadius < (this.objects[0].initialRingRadius * 0.1)) && this.clickable) {\r\n                                this.clickable = false;\r\n                                this.objects[0].active = 'expire';\r\n                                this.health.perfect();\r\n                                hitSound.play();\r\n                                this.points += 1000\r\n                                //perfect points\r\n                            }\r\n                            else if ((this.objects[0].ringRadius < (this.objects[0].initialRingRadius * 0.4)) && this.clickable) {\r\n                                this.clickable = false;\r\n                                this.objects[0].active = 'expire';\r\n                                this.health.good();\r\n                                hitSound.play();\r\n                                this.points += 500\r\n                                //Good points\r\n                            }\r\n                            else if ((this.objects[0].ringRadius < (this.objects[0].initialRingRadius * 0.6)) && this.clickable) {\r\n                                this.clickable = false;\r\n                                this.objects[0].active = 'expire';\r\n                                this.health.poor();\r\n                                hitSound.play();\r\n                                this.points += 100\r\n                                //Poor points\r\n                            }\r\n                            else if ((this.objects[0].ringRadius < (this.objects[0].initialRingRadius * 1.6)) && this.clickable) {\r\n                                this.clickable = false;\r\n                                missSound.play();\r\n                                //No points\r\n                            }\r\n                            else {\r\n                            }\r\n                        }\r\n                    }\r\n                    // alert(`${this.mousePosX} is x, ${this.mousePosY} is y`)\r\n                    break;\r\n                case 82:\r\n                    this.generateOrb();\r\n                    console.log('testtop')\r\n                    // console.log(`${this.playTime}`)\r\n                    console.log('testbottom')\r\n                default:\r\n                    break;\r\n            }\r\n        })\r\n        \r\n        \r\n    }\r\n\r\n    update (ctx, dt) {\r\n\r\n    }\r\n\r\n    draw (ctx, dt) {\r\n        //Draw health\r\n        this.health.draw(ctx);\r\n        // particle1.update(ctx);\r\n        this.objects.forEach((object) => {\r\n            object.draw(ctx, dt);\r\n        })\r\n\r\n        //Draw line between groups of orbs\r\n        if (this.objects[1]) {\r\n            ctx.beginPath();\r\n\r\n            let angle = Math.random() * 360;\r\n            let angleDlt = 60;\r\n            let step = 1;\r\n\r\n            let grd = ctx.createLinearGradient(0, 0, 500, 0);\r\n            grd.addColorStop(0, \"hsl(\" + (angle % 360) + \",100%, 50%)\");\r\n            grd.addColorStop(0.5, \"hsl(\" + ((angle + (angleDlt/2)) % 360) + \",100%, 50%)\");\r\n            grd.addColorStop(1, \"hsl(\" + ((angle + angleDlt) % 360) + \",100%, 50%)\");\r\n\r\n            ctx.moveTo(this.objects[0].centerX, this.objects[0].centerY);\r\n            ctx.lineTo(this.objects[1].centerX, this.objects[1].centerY);\r\n            ctx.lineWidth = 1;\r\n            ctx.strokeStyle = grd;\r\n            ctx.setLineDash([2, 5]);\r\n            ctx.stroke();\r\n            angle+= step;\r\n            ctx.closePath();\r\n            ctx.setLineDash([]);\r\n        }\r\n\r\n        //Draw Points AND ADD POINTS\r\n        ctx.beginPath();\r\n        this.points += 1\r\n        ctx.font = \"30px Sans-Serif\";\r\n        ctx.fillStyle = 'white';\r\n        ctx.textBaseline = 'middle';\r\n        ctx.textAlign = 'center';\r\n        ctx.fillText(`Points: ${this.points}`, 100, this.canvas.height-50);\r\n        ctx.closePath();\r\n        //Draw Time\r\n        ctx.beginPath();\r\n        ctx.font = \"30px Sans-Serif\";\r\n        ctx.fillStyle = 'white';\r\n        ctx.textBaseline = 'middle';\r\n        ctx.textAlign = 'center';\r\n        ctx.fillText(`Time: ${Math.floor(this.playTime)}s`, 100, this.canvas.height-100);\r\n        ctx.closePath();\r\n        // console.log(this.playTime)\r\n\r\n    }\r\n\r\n\r\n}","import Orb from './orbs';\r\nimport Game from './game';\r\nimport * as CONSTANT from './constants';\r\n\r\nexport default class GameView {\r\n    constructor(canvas, ctx){\r\n        this.canvas = canvas;\r\n        this.ctx = ctx;\r\n        this.gameInstance = new Game(canvas, ctx, this);\r\n        this.lastTime = new Date();\r\n        this.requestId = undefined;\r\n        this.gameOver = false;\r\n\r\n        \r\n        this.orb = new Orb((Math.random()*(this.maxWidth - this.minWidth)) + this.minWidth, (Math.random()*(this.maxHeight - this.minHeight)) + this.minHeight, 50, CONSTANT.BLUE , 1, 150, 0.20);\r\n        // this.orb = new Orb(500, 500, 50, 'RED', 2, 150, 0.5);\r\n        this.orb2 = new Orb((Math.random()*(this.maxWidth - this.minWidth)) + this.minWidth, (Math.random()*(this.maxHeight - this.minHeight)) + this.minHeight, 50, CONSTANT.BLUE , 2, 150, 0.2);\r\n        this.orb3 = new Orb((Math.random()*(this.maxWidth - this.minWidth)) + this.minWidth, (Math.random()*(this.maxHeight - this.minHeight)) + this.minHeight, 50, CONSTANT.BLUE , 3, 150, 0.2);\r\n        this.frame = 0;\r\n    }\r\n\r\n  start () {\r\n    if (!this.requestId) {\r\n      this.gameInstance.bindEventListener();\r\n      this.gameInstance.generateManyOrbs ();\r\n      // this.gameInstance.beginTimer();\r\n      // this.gameInstance.resetScene();\r\n      this.gameInstance.playMusic();\r\n        this.requestId = requestAnimationFrame(this.animate.bind(this));\r\n      }\r\n  }\r\n\r\n  stop () {\r\n    if (this.requestId) {\r\n    this.gameOver = true;\r\n    // this.gameInstance.bindEventListener(this.canvas);\r\n    // this.gameInstance.beginTimer();\r\n    // this.gameInstance.resetScene();\r\n    this.gameInstance.stopMusic();\r\n    cancelAnimationFrame(this.requestID);\r\n    setTimeout(() => alert('refresh because it is a work in progress!'), 3000)\r\n    return;\r\n    }\r\n  }\r\n\r\n  animate () {\r\n    let currentTime = Date.now();\r\n    let dt = (currentTime - this.lastTime)/1000;\r\n    this.lastTime = currentTime;\r\n    this.ctx.clearRect(0,0,this.canvas.width, this.canvas.height);\r\n    this.gameInstance.increasePlayTime(dt)\r\n    this.gameInstance.draw(this.ctx, dt);\r\n    // this.game.mouseStep(delta);\r\n    if (!this.gameOver) {\r\n    requestAnimationFrame(this.animate.bind(this));\r\n    }\r\n  }\r\n}","export default class Health {\r\n    constructor(decay, gain, gameInstance, gameView){\r\n        this.gameInstance = gameInstance;\r\n        this.gameView = gameView;\r\n        this.value = 100;\r\n        this.decay = decay;\r\n        this.gain = gain;\r\n        //Functions\r\n        this.miss = this.miss.bind(this);\r\n        this.perfect = this.perfect.bind(this);\r\n        this.good = this.good.bind(this);\r\n        this.poor = this.poor.bind(this);\r\n        this.update = this.update.bind(this);\r\n        this.outlineHP = this.outlineHP.bind(this);\r\n        this.draw = this.draw.bind(this);\r\n    }\r\n\r\n    miss () {\r\n        this.value = this.value - 1;\r\n        // console.log(this.value)\r\n    }\r\n\r\n    perfect () {\r\n        this.value = this.value + 10;\r\n        // console.log(this.value)\r\n    }\r\n\r\n    good () {\r\n        this.value = this.value + 5;\r\n        // console.log(this.value)\r\n    }\r\n\r\n    poor () {\r\n        this.value = this.value + 2;\r\n        // console.log(this.value)\r\n    }\r\n\r\n    update () {\r\n        this.value -= this.decay;\r\n        if (this.value <= 0) {\r\n            this.gameView.stop();\r\n            // alert('gameover')\r\n        }\r\n        // console.log(this.value)\r\n    }\r\n\r\n    outlineHP (ctx) {\r\n        ctx.beginPath();\r\n        let calcCurrentHP = ((this.gameInstance.canvas.width * 0.5) * (this.value/100));\r\n        let currentHP;\r\n        if (calcCurrentHP > (this.gameInstance.canvas.width * 0.5)) {\r\n            currentHP = (this.gameInstance.canvas.width * 0.5);\r\n        }\r\n        else if (calcCurrentHP < 0) {\r\n            currentHP = 0;\r\n        }\r\n        else {\r\n            currentHP = calcCurrentHP;\r\n        }\r\n        ctx.rect(20, 20, currentHP, 20);\r\n        ctx.closePath();\r\n    }\r\n\r\n    draw (ctx) {\r\n        this.update();\r\n        this.outlineHP(ctx);\r\n        //Color the damn thing\r\n        let grd = ctx.createLinearGradient(0, 0, (this.gameInstance.canvas.width * 0.5), 0);\r\n        grd.addColorStop(0.000, 'rgba(238, 181, 255, 1.000)');\r\n        grd.addColorStop(0.495, 'rgba(191, 241, 255, 1.000)');\r\n        grd.addColorStop(1.000, 'rgba(247, 252, 184, 1.000)');\r\n\r\n        ctx.fillStyle = grd;\r\n        ctx.fill();\r\n        console.log(this.value);\r\n        // console.log('hi')\r\n    }\r\n}","import * as CONSTANT from './constants.js';\r\nimport Health from './health';\r\n\r\nexport default class Orb {\r\n    constructor(centerX, centerY, circleRadius, color, label, ringRadius, timer, game, callback) {\r\n        //Variables\r\n        this.centerX = centerX;\r\n        this.centerY = centerY;\r\n        this.circleRadius = circleRadius;\r\n        this.initialRingRadius = circleRadius;\r\n        this.testRadius = circleRadius;\r\n        this.color = color;\r\n        this.label = label;\r\n        this.ringRadius = ringRadius;\r\n        this.timer = timer;\r\n        this.alpha = 0.7;\r\n        this.alphaPerFrame = timer > 1 ? 0.04 : 0.08\r\n        this.growthPerFrame = (circleRadius*3)/(circleRadius);\r\n        this.active = 'active'\r\n        this.frame = 0;\r\n        this.time = 0;\r\n        this.game = game;\r\n        this.path;\r\n        this.callback = callback;\r\n        //Functions\r\n        this.timerSize = this.timerSize.bind(this);\r\n        this.activeOrb = this.activeOrb.bind(this);\r\n        this.expireOrb = this.expireOrb.bind(this);\r\n        this.draw = this.draw.bind(this);\r\n        this.expandRadiusFadeOut = this.expandRadiusFadeOut.bind(this);\r\n        this.checkActive = this.checkActive.bind(this);\r\n\r\n    }\r\n\r\n    //Timer Ring: Shows time remaining before orb expires. Decreases in size closer to expiration.\r\n    //IMPORTANT: ringRadius is the ADDITIONAL radius added on to circle radius. newRingRadius is circleRadius + ringRadius\r\n    timerSize (dt) {\r\n        this.ringRadius = this.ringRadius - ((this.initialRingRadius/(this.timer)) * dt*3)\r\n        if (this.ringRadius < 0) {\r\n            this.ringRadius = 0;\r\n        }\r\n        const newRingRadius = this.circleRadius + this.ringRadius;\r\n        return newRingRadius;\r\n    }\r\n\r\n    expandRadiusFadeOut () {\r\n        this.circleRadius = this.circleRadius + this.growthPerFrame\r\n        this.alpha = this.alpha - (this.alphaPerFrame);\r\n        if (this.alpha < 0) {\r\n            this.alpha = 0;\r\n        }\r\n    }\r\n\r\n    checkActive () {\r\n        if (this.ringRadius === 0) {\r\n            this.active = 'expire'\r\n            this.game.makeClickable();\r\n            this.game.expireOrbPointsReduction();\r\n\r\n        }\r\n    }\r\n\r\n    expireOrb(ctx, dt) {\r\n        //Circle\r\n        ctx.beginPath();\r\n        this.expandRadiusFadeOut();\r\n        let grd = ctx.createRadialGradient(this.centerX, this.centerY, this.circleRadius, this.centerX, this.centerY, 30);\r\n        CONSTANT[this.color].circleLight(grd, this.alpha);\r\n        CONSTANT[this.color].circleDark(grd, this.alpha);\r\n        ctx.arc(this.centerX, this.centerY, this.circleRadius, 0, 2 * Math.PI);\r\n        ctx.fillStyle = grd;\r\n        ctx.fill();\r\n        ctx.lineWidth = 5;\r\n        ctx.strokeStyle = 'rgba(233, 233, 233, '+this.alpha+')'\r\n        ctx.stroke();\r\n        ctx.save();\r\n        ctx.closePath();\r\n    }\r\n\r\n    activeOrb(ctx, dt) {\r\n        //Test Code\r\n        // this.frame += 1;\r\n        // this.time += dt;\r\n        //Timer Animation\r\n        ctx.beginPath();\r\n        ctx.arc(this.centerX, this.centerY, this.timerSize(dt), 0, 2 * Math.PI);\r\n        ctx.lineWidth = 5;\r\n        let grd2 = ctx.createLinearGradient(50, 0, 0, 220);\r\n        CONSTANT[this.color].timerLight(grd2);\r\n        CONSTANT[this.color].timerDark(grd2);\r\n        ctx.strokeStyle = grd2;\r\n        ctx.stroke();\r\n        ctx.closePath();\r\n        // //Circle\r\n        ctx.beginPath();\r\n        ctx.globalCompositeOperation = 'destination-over';\r\n        ctx.arc(this.centerX, this.centerY, this.circleRadius, 0, 2 * Math.PI);\r\n        let grd = ctx.createRadialGradient(this.centerX, this.centerY, this.circleRadius, this.centerX, this.centerY, 20);\r\n        CONSTANT[this.color].circleLight(grd, this.alpha);\r\n        CONSTANT[this.color].circleDark(grd, this.alpha);\r\n        ctx.fillStyle = grd;\r\n        ctx.fill();\r\n        ctx.lineWidth = 10;\r\n        ctx.strokeStyle = CONSTANT[this.color].circleEdge;\r\n        ctx.stroke();\r\n        ctx.save();\r\n        ctx.closePath();\r\n        //Testing\r\n\r\n\r\n        //Text font, color, and positioning\r\n        ctx.font = \"30px Sans-Serif\";\r\n        ctx.fillStyle = 'white';\r\n        ctx.textBaseline = 'middle';\r\n        ctx.textAlign = 'center';\r\n        ctx.fillText(this.label, this.centerX, this.centerY);\r\n    }\r\n\r\n    draw (ctx, dt) {\r\n        this.checkActive();\r\n\r\n        //It never reahes zero since it subtracts a percentage of its current radius\r\n        if (this.active != 'expire') {\r\n            this.activeOrb(ctx, dt);\r\n\r\n            //TESTING TOP\r\n\r\n\r\n            //TESTING BOTTOM\r\n        }\r\n        else {\r\n            // alert(`${this.frame} in ${this.time}s`)\r\n            this.expireOrb(ctx);\r\n        }\r\n        if (this.alpha === 0) {\r\n            this.game.removeObject();\r\n            if (this.callback === true) {\r\n                this.game.generateManyOrbs();\r\n            }\r\n        }\r\n    }\r\n    // draw (ctx, dt, canvas) {\r\n    //     //Create Arc\r\n    //     ctx.beginPath();\r\n    //     const length = this.circleRadius * 2\r\n    //     const lineThickness = length + 5\r\n    //     ctx.lineWidth = lineThickness;\r\n    //     ctx.lineCap = \"round\";\r\n    //     CONSTANT.shortArc.bottomRight.translateBottom(ctx, length);\r\n    //     CONSTANT.shortArc.bottomRight.createArc(ctx, this.centerX, this.centerY, length)\r\n    //     ctx.strokeStyle = '#e9e9e9';\r\n    //     ctx.stroke();\r\n    //     ctx.lineWidth = 95;\r\n    //     ctx.strokeStyle = '#16151f';\r\n    //     ctx.stroke();\r\n    //     ctx.setTransform(1, 0, 0, 1, 0, 0);\r\n    //     ctx.closePath();\r\n\r\n    // }\r\n}\r\n\r\n","\r\n\r\n\r\nexport default class Particle {\r\n    constructor(mouseX, mouseY, radius, color){\r\n        this.mouseX = mouseX;\r\n        this.mouseY = mouseY;\r\n        this.radius = radius;\r\n        this.color = color;\r\n        this.radians = 0;\r\n        this.velocity = 0.5;\r\n        //Functions\r\n        this.update = this.update.bind(this);\r\n        this.draw = this.draw.bind(this);\r\n    }\r\n\r\n    update (ctx) {\r\n        this.radians += this.velocity;\r\n        this.x = Math.cos(this.radians) * this.radius;\r\n        this.y = Math.sin(this.radians) * this.radius;\r\n        this.draw(ctx);\r\n    }\r\n\r\n    draw (ctx) {\r\n        ctx.beginPath();\r\n        ctx.fillstyle = 'white';\r\n        ctx.arc(this.x, this.y, 50, 0, Math.PI * 2, false);\r\n        ctx.fill();\r\n        ctx.closePath();\r\n    }\r\n}","/*\n * anime.js v3.1.0\n * (c) 2019 Julian Garnier\n * Released under the MIT license\n * animejs.com\n */\n\n// Defaults\n\nvar defaultInstanceSettings = {\n  update: null,\n  begin: null,\n  loopBegin: null,\n  changeBegin: null,\n  change: null,\n  changeComplete: null,\n  loopComplete: null,\n  complete: null,\n  loop: 1,\n  direction: 'normal',\n  autoplay: true,\n  timelineOffset: 0\n};\n\nvar defaultTweenSettings = {\n  duration: 1000,\n  delay: 0,\n  endDelay: 0,\n  easing: 'easeOutElastic(1, .5)',\n  round: 0\n};\n\nvar validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skew', 'skewX', 'skewY', 'perspective'];\n\n// Caching\n\nvar cache = {\n  CSS: {},\n  springs: {}\n};\n\n// Utils\n\nfunction minMax(val, min, max) {\n  return Math.min(Math.max(val, min), max);\n}\n\nfunction stringContains(str, text) {\n  return str.indexOf(text) > -1;\n}\n\nfunction applyArguments(func, args) {\n  return func.apply(null, args);\n}\n\nvar is = {\n  arr: function (a) { return Array.isArray(a); },\n  obj: function (a) { return stringContains(Object.prototype.toString.call(a), 'Object'); },\n  pth: function (a) { return is.obj(a) && a.hasOwnProperty('totalLength'); },\n  svg: function (a) { return a instanceof SVGElement; },\n  inp: function (a) { return a instanceof HTMLInputElement; },\n  dom: function (a) { return a.nodeType || is.svg(a); },\n  str: function (a) { return typeof a === 'string'; },\n  fnc: function (a) { return typeof a === 'function'; },\n  und: function (a) { return typeof a === 'undefined'; },\n  hex: function (a) { return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a); },\n  rgb: function (a) { return /^rgb/.test(a); },\n  hsl: function (a) { return /^hsl/.test(a); },\n  col: function (a) { return (is.hex(a) || is.rgb(a) || is.hsl(a)); },\n  key: function (a) { return !defaultInstanceSettings.hasOwnProperty(a) && !defaultTweenSettings.hasOwnProperty(a) && a !== 'targets' && a !== 'keyframes'; }\n};\n\n// Easings\n\nfunction parseEasingParameters(string) {\n  var match = /\\(([^)]+)\\)/.exec(string);\n  return match ? match[1].split(',').map(function (p) { return parseFloat(p); }) : [];\n}\n\n// Spring solver inspired by Webkit Copyright © 2016 Apple Inc. All rights reserved. https://webkit.org/demos/spring/spring.js\n\nfunction spring(string, duration) {\n\n  var params = parseEasingParameters(string);\n  var mass = minMax(is.und(params[0]) ? 1 : params[0], .1, 100);\n  var stiffness = minMax(is.und(params[1]) ? 100 : params[1], .1, 100);\n  var damping = minMax(is.und(params[2]) ? 10 : params[2], .1, 100);\n  var velocity =  minMax(is.und(params[3]) ? 0 : params[3], .1, 100);\n  var w0 = Math.sqrt(stiffness / mass);\n  var zeta = damping / (2 * Math.sqrt(stiffness * mass));\n  var wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\n  var a = 1;\n  var b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;\n\n  function solver(t) {\n    var progress = duration ? (duration * t) / 1000 : t;\n    if (zeta < 1) {\n      progress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));\n    } else {\n      progress = (a + b * progress) * Math.exp(-progress * w0);\n    }\n    if (t === 0 || t === 1) { return t; }\n    return 1 - progress;\n  }\n\n  function getDuration() {\n    var cached = cache.springs[string];\n    if (cached) { return cached; }\n    var frame = 1/6;\n    var elapsed = 0;\n    var rest = 0;\n    while(true) {\n      elapsed += frame;\n      if (solver(elapsed) === 1) {\n        rest++;\n        if (rest >= 16) { break; }\n      } else {\n        rest = 0;\n      }\n    }\n    var duration = elapsed * frame * 1000;\n    cache.springs[string] = duration;\n    return duration;\n  }\n\n  return duration ? solver : getDuration;\n\n}\n\n// Basic steps easing implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function\n\nfunction steps(steps) {\n  if ( steps === void 0 ) steps = 10;\n\n  return function (t) { return Math.round(t * steps) * (1 / steps); };\n}\n\n// BezierEasing https://github.com/gre/bezier-easing\n\nvar bezier = (function () {\n\n  var kSplineTableSize = 11;\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1 }\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1 }\n  function C(aA1)      { return 3.0 * aA1 }\n\n  function calcBezier(aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT }\n  function getSlope(aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1) }\n\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\n    var currentX, currentT, i = 0;\n    do {\n      currentT = aA + (aB - aA) / 2.0;\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\n      if (currentX > 0.0) { aB = currentT; } else { aA = currentT; }\n    } while (Math.abs(currentX) > 0.0000001 && ++i < 10);\n    return currentT;\n  }\n\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (var i = 0; i < 4; ++i) {\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\n      if (currentSlope === 0.0) { return aGuessT; }\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n      aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n  }\n\n  function bezier(mX1, mY1, mX2, mY2) {\n\n    if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) { return; }\n    var sampleValues = new Float32Array(kSplineTableSize);\n\n    if (mX1 !== mY1 || mX2 !== mY2) {\n      for (var i = 0; i < kSplineTableSize; ++i) {\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n      }\n    }\n\n    function getTForX(aX) {\n\n      var intervalStart = 0;\n      var currentSample = 1;\n      var lastSample = kSplineTableSize - 1;\n\n      for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n        intervalStart += kSampleStepSize;\n      }\n\n      --currentSample;\n\n      var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n      var guessForT = intervalStart + dist * kSampleStepSize;\n      var initialSlope = getSlope(guessForT, mX1, mX2);\n\n      if (initialSlope >= 0.001) {\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n      } else if (initialSlope === 0.0) {\n        return guessForT;\n      } else {\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n\n    }\n\n    return function (x) {\n      if (mX1 === mY1 && mX2 === mY2) { return x; }\n      if (x === 0 || x === 1) { return x; }\n      return calcBezier(getTForX(x), mY1, mY2);\n    }\n\n  }\n\n  return bezier;\n\n})();\n\nvar penner = (function () {\n\n  // Based on jQuery UI's implemenation of easing equations from Robert Penner (http://www.robertpenner.com/easing)\n\n  var eases = { linear: function () { return function (t) { return t; }; } };\n\n  var functionEasings = {\n    Sine: function () { return function (t) { return 1 - Math.cos(t * Math.PI / 2); }; },\n    Circ: function () { return function (t) { return 1 - Math.sqrt(1 - t * t); }; },\n    Back: function () { return function (t) { return t * t * (3 * t - 2); }; },\n    Bounce: function () { return function (t) {\n      var pow2, b = 4;\n      while (t < (( pow2 = Math.pow(2, --b)) - 1) / 11) {}\n      return 1 / Math.pow(4, 3 - b) - 7.5625 * Math.pow(( pow2 * 3 - 2 ) / 22 - t, 2)\n    }; },\n    Elastic: function (amplitude, period) {\n      if ( amplitude === void 0 ) amplitude = 1;\n      if ( period === void 0 ) period = .5;\n\n      var a = minMax(amplitude, 1, 10);\n      var p = minMax(period, .1, 2);\n      return function (t) {\n        return (t === 0 || t === 1) ? t : \n          -a * Math.pow(2, 10 * (t - 1)) * Math.sin((((t - 1) - (p / (Math.PI * 2) * Math.asin(1 / a))) * (Math.PI * 2)) / p);\n      }\n    }\n  };\n\n  var baseEasings = ['Quad', 'Cubic', 'Quart', 'Quint', 'Expo'];\n\n  baseEasings.forEach(function (name, i) {\n    functionEasings[name] = function () { return function (t) { return Math.pow(t, i + 2); }; };\n  });\n\n  Object.keys(functionEasings).forEach(function (name) {\n    var easeIn = functionEasings[name];\n    eases['easeIn' + name] = easeIn;\n    eases['easeOut' + name] = function (a, b) { return function (t) { return 1 - easeIn(a, b)(1 - t); }; };\n    eases['easeInOut' + name] = function (a, b) { return function (t) { return t < 0.5 ? easeIn(a, b)(t * 2) / 2 : \n      1 - easeIn(a, b)(t * -2 + 2) / 2; }; };\n  });\n\n  return eases;\n\n})();\n\nfunction parseEasings(easing, duration) {\n  if (is.fnc(easing)) { return easing; }\n  var name = easing.split('(')[0];\n  var ease = penner[name];\n  var args = parseEasingParameters(easing);\n  switch (name) {\n    case 'spring' : return spring(easing, duration);\n    case 'cubicBezier' : return applyArguments(bezier, args);\n    case 'steps' : return applyArguments(steps, args);\n    default : return applyArguments(ease, args);\n  }\n}\n\n// Strings\n\nfunction selectString(str) {\n  try {\n    var nodes = document.querySelectorAll(str);\n    return nodes;\n  } catch(e) {\n    return;\n  }\n}\n\n// Arrays\n\nfunction filterArray(arr, callback) {\n  var len = arr.length;\n  var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n  var result = [];\n  for (var i = 0; i < len; i++) {\n    if (i in arr) {\n      var val = arr[i];\n      if (callback.call(thisArg, val, i, arr)) {\n        result.push(val);\n      }\n    }\n  }\n  return result;\n}\n\nfunction flattenArray(arr) {\n  return arr.reduce(function (a, b) { return a.concat(is.arr(b) ? flattenArray(b) : b); }, []);\n}\n\nfunction toArray(o) {\n  if (is.arr(o)) { return o; }\n  if (is.str(o)) { o = selectString(o) || o; }\n  if (o instanceof NodeList || o instanceof HTMLCollection) { return [].slice.call(o); }\n  return [o];\n}\n\nfunction arrayContains(arr, val) {\n  return arr.some(function (a) { return a === val; });\n}\n\n// Objects\n\nfunction cloneObject(o) {\n  var clone = {};\n  for (var p in o) { clone[p] = o[p]; }\n  return clone;\n}\n\nfunction replaceObjectProps(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o1) { o[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p]; }\n  return o;\n}\n\nfunction mergeObjects(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o2) { o[p] = is.und(o1[p]) ? o2[p] : o1[p]; }\n  return o;\n}\n\n// Colors\n\nfunction rgbToRgba(rgbValue) {\n  var rgb = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(rgbValue);\n  return rgb ? (\"rgba(\" + (rgb[1]) + \",1)\") : rgbValue;\n}\n\nfunction hexToRgba(hexValue) {\n  var rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  var hex = hexValue.replace(rgx, function (m, r, g, b) { return r + r + g + g + b + b; } );\n  var rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var r = parseInt(rgb[1], 16);\n  var g = parseInt(rgb[2], 16);\n  var b = parseInt(rgb[3], 16);\n  return (\"rgba(\" + r + \",\" + g + \",\" + b + \",1)\");\n}\n\nfunction hslToRgba(hslValue) {\n  var hsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(hslValue) || /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(hslValue);\n  var h = parseInt(hsl[1], 10) / 360;\n  var s = parseInt(hsl[2], 10) / 100;\n  var l = parseInt(hsl[3], 10) / 100;\n  var a = hsl[4] || 1;\n  function hue2rgb(p, q, t) {\n    if (t < 0) { t += 1; }\n    if (t > 1) { t -= 1; }\n    if (t < 1/6) { return p + (q - p) * 6 * t; }\n    if (t < 1/2) { return q; }\n    if (t < 2/3) { return p + (q - p) * (2/3 - t) * 6; }\n    return p;\n  }\n  var r, g, b;\n  if (s == 0) {\n    r = g = b = l;\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1/3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1/3);\n  }\n  return (\"rgba(\" + (r * 255) + \",\" + (g * 255) + \",\" + (b * 255) + \",\" + a + \")\");\n}\n\nfunction colorToRgb(val) {\n  if (is.rgb(val)) { return rgbToRgba(val); }\n  if (is.hex(val)) { return hexToRgba(val); }\n  if (is.hsl(val)) { return hslToRgba(val); }\n}\n\n// Units\n\nfunction getUnit(val) {\n  var split = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(val);\n  if (split) { return split[1]; }\n}\n\nfunction getTransformUnit(propName) {\n  if (stringContains(propName, 'translate') || propName === 'perspective') { return 'px'; }\n  if (stringContains(propName, 'rotate') || stringContains(propName, 'skew')) { return 'deg'; }\n}\n\n// Values\n\nfunction getFunctionValue(val, animatable) {\n  if (!is.fnc(val)) { return val; }\n  return val(animatable.target, animatable.id, animatable.total);\n}\n\nfunction getAttribute(el, prop) {\n  return el.getAttribute(prop);\n}\n\nfunction convertPxToUnit(el, value, unit) {\n  var valueUnit = getUnit(value);\n  if (arrayContains([unit, 'deg', 'rad', 'turn'], valueUnit)) { return value; }\n  var cached = cache.CSS[value + unit];\n  if (!is.und(cached)) { return cached; }\n  var baseline = 100;\n  var tempEl = document.createElement(el.tagName);\n  var parentEl = (el.parentNode && (el.parentNode !== document)) ? el.parentNode : document.body;\n  parentEl.appendChild(tempEl);\n  tempEl.style.position = 'absolute';\n  tempEl.style.width = baseline + unit;\n  var factor = baseline / tempEl.offsetWidth;\n  parentEl.removeChild(tempEl);\n  var convertedUnit = factor * parseFloat(value);\n  cache.CSS[value + unit] = convertedUnit;\n  return convertedUnit;\n}\n\nfunction getCSSValue(el, prop, unit) {\n  if (prop in el.style) {\n    var uppercasePropName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    var value = el.style[prop] || getComputedStyle(el).getPropertyValue(uppercasePropName) || '0';\n    return unit ? convertPxToUnit(el, value, unit) : value;\n  }\n}\n\nfunction getAnimationType(el, prop) {\n  if (is.dom(el) && !is.inp(el) && (getAttribute(el, prop) || (is.svg(el) && el[prop]))) { return 'attribute'; }\n  if (is.dom(el) && arrayContains(validTransforms, prop)) { return 'transform'; }\n  if (is.dom(el) && (prop !== 'transform' && getCSSValue(el, prop))) { return 'css'; }\n  if (el[prop] != null) { return 'object'; }\n}\n\nfunction getElementTransforms(el) {\n  if (!is.dom(el)) { return; }\n  var str = el.style.transform || '';\n  var reg  = /(\\w+)\\(([^)]*)\\)/g;\n  var transforms = new Map();\n  var m; while (m = reg.exec(str)) { transforms.set(m[1], m[2]); }\n  return transforms;\n}\n\nfunction getTransformValue(el, propName, animatable, unit) {\n  var defaultVal = stringContains(propName, 'scale') ? 1 : 0 + getTransformUnit(propName);\n  var value = getElementTransforms(el).get(propName) || defaultVal;\n  if (animatable) {\n    animatable.transforms.list.set(propName, value);\n    animatable.transforms['last'] = propName;\n  }\n  return unit ? convertPxToUnit(el, value, unit) : value;\n}\n\nfunction getOriginalTargetValue(target, propName, unit, animatable) {\n  switch (getAnimationType(target, propName)) {\n    case 'transform': return getTransformValue(target, propName, animatable, unit);\n    case 'css': return getCSSValue(target, propName, unit);\n    case 'attribute': return getAttribute(target, propName);\n    default: return target[propName] || 0;\n  }\n}\n\nfunction getRelativeValue(to, from) {\n  var operator = /^(\\*=|\\+=|-=)/.exec(to);\n  if (!operator) { return to; }\n  var u = getUnit(to) || 0;\n  var x = parseFloat(from);\n  var y = parseFloat(to.replace(operator[0], ''));\n  switch (operator[0][0]) {\n    case '+': return x + y + u;\n    case '-': return x - y + u;\n    case '*': return x * y + u;\n  }\n}\n\nfunction validateValue(val, unit) {\n  if (is.col(val)) { return colorToRgb(val); }\n  if (/\\s/g.test(val)) { return val; }\n  var originalUnit = getUnit(val);\n  var unitLess = originalUnit ? val.substr(0, val.length - originalUnit.length) : val;\n  if (unit) { return unitLess + unit; }\n  return unitLess;\n}\n\n// getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes\n// adapted from https://gist.github.com/SebLambla/3e0550c496c236709744\n\nfunction getDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\n\nfunction getCircleLength(el) {\n  return Math.PI * 2 * getAttribute(el, 'r');\n}\n\nfunction getRectLength(el) {\n  return (getAttribute(el, 'width') * 2) + (getAttribute(el, 'height') * 2);\n}\n\nfunction getLineLength(el) {\n  return getDistance(\n    {x: getAttribute(el, 'x1'), y: getAttribute(el, 'y1')}, \n    {x: getAttribute(el, 'x2'), y: getAttribute(el, 'y2')}\n  );\n}\n\nfunction getPolylineLength(el) {\n  var points = el.points;\n  var totalLength = 0;\n  var previousPos;\n  for (var i = 0 ; i < points.numberOfItems; i++) {\n    var currentPos = points.getItem(i);\n    if (i > 0) { totalLength += getDistance(previousPos, currentPos); }\n    previousPos = currentPos;\n  }\n  return totalLength;\n}\n\nfunction getPolygonLength(el) {\n  var points = el.points;\n  return getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));\n}\n\n// Path animation\n\nfunction getTotalLength(el) {\n  if (el.getTotalLength) { return el.getTotalLength(); }\n  switch(el.tagName.toLowerCase()) {\n    case 'circle': return getCircleLength(el);\n    case 'rect': return getRectLength(el);\n    case 'line': return getLineLength(el);\n    case 'polyline': return getPolylineLength(el);\n    case 'polygon': return getPolygonLength(el);\n  }\n}\n\nfunction setDashoffset(el) {\n  var pathLength = getTotalLength(el);\n  el.setAttribute('stroke-dasharray', pathLength);\n  return pathLength;\n}\n\n// Motion path\n\nfunction getParentSvgEl(el) {\n  var parentEl = el.parentNode;\n  while (is.svg(parentEl)) {\n    if (!is.svg(parentEl.parentNode)) { break; }\n    parentEl = parentEl.parentNode;\n  }\n  return parentEl;\n}\n\nfunction getParentSvg(pathEl, svgData) {\n  var svg = svgData || {};\n  var parentSvgEl = svg.el || getParentSvgEl(pathEl);\n  var rect = parentSvgEl.getBoundingClientRect();\n  var viewBoxAttr = getAttribute(parentSvgEl, 'viewBox');\n  var width = rect.width;\n  var height = rect.height;\n  var viewBox = svg.viewBox || (viewBoxAttr ? viewBoxAttr.split(' ') : [0, 0, width, height]);\n  return {\n    el: parentSvgEl,\n    viewBox: viewBox,\n    x: viewBox[0] / 1,\n    y: viewBox[1] / 1,\n    w: width / viewBox[2],\n    h: height / viewBox[3]\n  }\n}\n\nfunction getPath(path, percent) {\n  var pathEl = is.str(path) ? selectString(path)[0] : path;\n  var p = percent || 100;\n  return function(property) {\n    return {\n      property: property,\n      el: pathEl,\n      svg: getParentSvg(pathEl),\n      totalLength: getTotalLength(pathEl) * (p / 100)\n    }\n  }\n}\n\nfunction getPathProgress(path, progress) {\n  function point(offset) {\n    if ( offset === void 0 ) offset = 0;\n\n    var l = progress + offset >= 1 ? progress + offset : 0;\n    return path.el.getPointAtLength(l);\n  }\n  var svg = getParentSvg(path.el, path.svg);\n  var p = point();\n  var p0 = point(-1);\n  var p1 = point(+1);\n  switch (path.property) {\n    case 'x': return (p.x - svg.x) * svg.w;\n    case 'y': return (p.y - svg.y) * svg.h;\n    case 'angle': return Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n  }\n}\n\n// Decompose value\n\nfunction decomposeValue(val, unit) {\n  // const rgx = /-?\\d*\\.?\\d+/g; // handles basic numbers\n  // const rgx = /[+-]?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var rgx = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var value = validateValue((is.pth(val) ? val.totalLength : val), unit) + '';\n  return {\n    original: value,\n    numbers: value.match(rgx) ? value.match(rgx).map(Number) : [0],\n    strings: (is.str(val) || unit) ? value.split(rgx) : []\n  }\n}\n\n// Animatables\n\nfunction parseTargets(targets) {\n  var targetsArray = targets ? (flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))) : [];\n  return filterArray(targetsArray, function (item, pos, self) { return self.indexOf(item) === pos; });\n}\n\nfunction getAnimatables(targets) {\n  var parsed = parseTargets(targets);\n  return parsed.map(function (t, i) {\n    return {target: t, id: i, total: parsed.length, transforms: { list: getElementTransforms(t) } };\n  });\n}\n\n// Properties\n\nfunction normalizePropertyTweens(prop, tweenSettings) {\n  var settings = cloneObject(tweenSettings);\n  // Override duration if easing is a spring\n  if (/^spring/.test(settings.easing)) { settings.duration = spring(settings.easing); }\n  if (is.arr(prop)) {\n    var l = prop.length;\n    var isFromTo = (l === 2 && !is.obj(prop[0]));\n    if (!isFromTo) {\n      // Duration divided by the number of tweens\n      if (!is.fnc(tweenSettings.duration)) { settings.duration = tweenSettings.duration / l; }\n    } else {\n      // Transform [from, to] values shorthand to a valid tween value\n      prop = {value: prop};\n    }\n  }\n  var propArray = is.arr(prop) ? prop : [prop];\n  return propArray.map(function (v, i) {\n    var obj = (is.obj(v) && !is.pth(v)) ? v : {value: v};\n    // Default delay value should only be applied to the first tween\n    if (is.und(obj.delay)) { obj.delay = !i ? tweenSettings.delay : 0; }\n    // Default endDelay value should only be applied to the last tween\n    if (is.und(obj.endDelay)) { obj.endDelay = i === propArray.length - 1 ? tweenSettings.endDelay : 0; }\n    return obj;\n  }).map(function (k) { return mergeObjects(k, settings); });\n}\n\n\nfunction flattenKeyframes(keyframes) {\n  var propertyNames = filterArray(flattenArray(keyframes.map(function (key) { return Object.keys(key); })), function (p) { return is.key(p); })\n  .reduce(function (a,b) { if (a.indexOf(b) < 0) { a.push(b); } return a; }, []);\n  var properties = {};\n  var loop = function ( i ) {\n    var propName = propertyNames[i];\n    properties[propName] = keyframes.map(function (key) {\n      var newKey = {};\n      for (var p in key) {\n        if (is.key(p)) {\n          if (p == propName) { newKey.value = key[p]; }\n        } else {\n          newKey[p] = key[p];\n        }\n      }\n      return newKey;\n    });\n  };\n\n  for (var i = 0; i < propertyNames.length; i++) loop( i );\n  return properties;\n}\n\nfunction getProperties(tweenSettings, params) {\n  var properties = [];\n  var keyframes = params.keyframes;\n  if (keyframes) { params = mergeObjects(flattenKeyframes(keyframes), params); }\n  for (var p in params) {\n    if (is.key(p)) {\n      properties.push({\n        name: p,\n        tweens: normalizePropertyTweens(params[p], tweenSettings)\n      });\n    }\n  }\n  return properties;\n}\n\n// Tweens\n\nfunction normalizeTweenValues(tween, animatable) {\n  var t = {};\n  for (var p in tween) {\n    var value = getFunctionValue(tween[p], animatable);\n    if (is.arr(value)) {\n      value = value.map(function (v) { return getFunctionValue(v, animatable); });\n      if (value.length === 1) { value = value[0]; }\n    }\n    t[p] = value;\n  }\n  t.duration = parseFloat(t.duration);\n  t.delay = parseFloat(t.delay);\n  return t;\n}\n\nfunction normalizeTweens(prop, animatable) {\n  var previousTween;\n  return prop.tweens.map(function (t) {\n    var tween = normalizeTweenValues(t, animatable);\n    var tweenValue = tween.value;\n    var to = is.arr(tweenValue) ? tweenValue[1] : tweenValue;\n    var toUnit = getUnit(to);\n    var originalValue = getOriginalTargetValue(animatable.target, prop.name, toUnit, animatable);\n    var previousValue = previousTween ? previousTween.to.original : originalValue;\n    var from = is.arr(tweenValue) ? tweenValue[0] : previousValue;\n    var fromUnit = getUnit(from) || getUnit(originalValue);\n    var unit = toUnit || fromUnit;\n    if (is.und(to)) { to = previousValue; }\n    tween.from = decomposeValue(from, unit);\n    tween.to = decomposeValue(getRelativeValue(to, from), unit);\n    tween.start = previousTween ? previousTween.end : 0;\n    tween.end = tween.start + tween.delay + tween.duration + tween.endDelay;\n    tween.easing = parseEasings(tween.easing, tween.duration);\n    tween.isPath = is.pth(tweenValue);\n    tween.isColor = is.col(tween.from.original);\n    if (tween.isColor) { tween.round = 1; }\n    previousTween = tween;\n    return tween;\n  });\n}\n\n// Tween progress\n\nvar setProgressValue = {\n  css: function (t, p, v) { return t.style[p] = v; },\n  attribute: function (t, p, v) { return t.setAttribute(p, v); },\n  object: function (t, p, v) { return t[p] = v; },\n  transform: function (t, p, v, transforms, manual) {\n    transforms.list.set(p, v);\n    if (p === transforms.last || manual) {\n      var str = '';\n      transforms.list.forEach(function (value, prop) { str += prop + \"(\" + value + \") \"; });\n      t.style.transform = str;\n    }\n  }\n};\n\n// Set Value helper\n\nfunction setTargetsValue(targets, properties) {\n  var animatables = getAnimatables(targets);\n  animatables.forEach(function (animatable) {\n    for (var property in properties) {\n      var value = getFunctionValue(properties[property], animatable);\n      var target = animatable.target;\n      var valueUnit = getUnit(value);\n      var originalValue = getOriginalTargetValue(target, property, valueUnit, animatable);\n      var unit = valueUnit || getUnit(originalValue);\n      var to = getRelativeValue(validateValue(value, unit), originalValue);\n      var animType = getAnimationType(target, property);\n      setProgressValue[animType](target, property, to, animatable.transforms, true);\n    }\n  });\n}\n\n// Animations\n\nfunction createAnimation(animatable, prop) {\n  var animType = getAnimationType(animatable.target, prop.name);\n  if (animType) {\n    var tweens = normalizeTweens(prop, animatable);\n    var lastTween = tweens[tweens.length - 1];\n    return {\n      type: animType,\n      property: prop.name,\n      animatable: animatable,\n      tweens: tweens,\n      duration: lastTween.end,\n      delay: tweens[0].delay,\n      endDelay: lastTween.endDelay\n    }\n  }\n}\n\nfunction getAnimations(animatables, properties) {\n  return filterArray(flattenArray(animatables.map(function (animatable) {\n    return properties.map(function (prop) {\n      return createAnimation(animatable, prop);\n    });\n  })), function (a) { return !is.und(a); });\n}\n\n// Create Instance\n\nfunction getInstanceTimings(animations, tweenSettings) {\n  var animLength = animations.length;\n  var getTlOffset = function (anim) { return anim.timelineOffset ? anim.timelineOffset : 0; };\n  var timings = {};\n  timings.duration = animLength ? Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration; })) : tweenSettings.duration;\n  timings.delay = animLength ? Math.min.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.delay; })) : tweenSettings.delay;\n  timings.endDelay = animLength ? timings.duration - Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration - anim.endDelay; })) : tweenSettings.endDelay;\n  return timings;\n}\n\nvar instanceID = 0;\n\nfunction createNewInstance(params) {\n  var instanceSettings = replaceObjectProps(defaultInstanceSettings, params);\n  var tweenSettings = replaceObjectProps(defaultTweenSettings, params);\n  var properties = getProperties(tweenSettings, params);\n  var animatables = getAnimatables(params.targets);\n  var animations = getAnimations(animatables, properties);\n  var timings = getInstanceTimings(animations, tweenSettings);\n  var id = instanceID;\n  instanceID++;\n  return mergeObjects(instanceSettings, {\n    id: id,\n    children: [],\n    animatables: animatables,\n    animations: animations,\n    duration: timings.duration,\n    delay: timings.delay,\n    endDelay: timings.endDelay\n  });\n}\n\n// Core\n\nvar activeInstances = [];\nvar pausedInstances = [];\nvar raf;\n\nvar engine = (function () {\n  function play() { \n    raf = requestAnimationFrame(step);\n  }\n  function step(t) {\n    var activeInstancesLength = activeInstances.length;\n    if (activeInstancesLength) {\n      var i = 0;\n      while (i < activeInstancesLength) {\n        var activeInstance = activeInstances[i];\n        if (!activeInstance.paused) {\n          activeInstance.tick(t);\n        } else {\n          var instanceIndex = activeInstances.indexOf(activeInstance);\n          if (instanceIndex > -1) {\n            activeInstances.splice(instanceIndex, 1);\n            activeInstancesLength = activeInstances.length;\n          }\n        }\n        i++;\n      }\n      play();\n    } else {\n      raf = cancelAnimationFrame(raf);\n    }\n  }\n  return play;\n})();\n\nfunction handleVisibilityChange() {\n  if (document.hidden) {\n    activeInstances.forEach(function (ins) { return ins.pause(); });\n    pausedInstances = activeInstances.slice(0);\n    anime.running = activeInstances = [];\n  } else {\n    pausedInstances.forEach(function (ins) { return ins.play(); });\n  }\n}\n\nif (typeof document !== 'undefined') {\n  document.addEventListener('visibilitychange', handleVisibilityChange);\n}\n\n// Public Instance\n\nfunction anime(params) {\n  if ( params === void 0 ) params = {};\n\n\n  var startTime = 0, lastTime = 0, now = 0;\n  var children, childrenLength = 0;\n  var resolve = null;\n\n  function makePromise(instance) {\n    var promise = window.Promise && new Promise(function (_resolve) { return resolve = _resolve; });\n    instance.finished = promise;\n    return promise;\n  }\n\n  var instance = createNewInstance(params);\n  var promise = makePromise(instance);\n\n  function toggleInstanceDirection() {\n    var direction = instance.direction;\n    if (direction !== 'alternate') {\n      instance.direction = direction !== 'normal' ? 'normal' : 'reverse';\n    }\n    instance.reversed = !instance.reversed;\n    children.forEach(function (child) { return child.reversed = instance.reversed; });\n  }\n\n  function adjustTime(time) {\n    return instance.reversed ? instance.duration - time : time;\n  }\n\n  function resetTime() {\n    startTime = 0;\n    lastTime = adjustTime(instance.currentTime) * (1 / anime.speed);\n  }\n\n  function seekChild(time, child) {\n    if (child) { child.seek(time - child.timelineOffset); }\n  }\n\n  function syncInstanceChildren(time) {\n    if (!instance.reversePlayback) {\n      for (var i = 0; i < childrenLength; i++) { seekChild(time, children[i]); }\n    } else {\n      for (var i$1 = childrenLength; i$1--;) { seekChild(time, children[i$1]); }\n    }\n  }\n\n  function setAnimationsProgress(insTime) {\n    var i = 0;\n    var animations = instance.animations;\n    var animationsLength = animations.length;\n    while (i < animationsLength) {\n      var anim = animations[i];\n      var animatable = anim.animatable;\n      var tweens = anim.tweens;\n      var tweenLength = tweens.length - 1;\n      var tween = tweens[tweenLength];\n      // Only check for keyframes if there is more than one tween\n      if (tweenLength) { tween = filterArray(tweens, function (t) { return (insTime < t.end); })[0] || tween; }\n      var elapsed = minMax(insTime - tween.start - tween.delay, 0, tween.duration) / tween.duration;\n      var eased = isNaN(elapsed) ? 1 : tween.easing(elapsed);\n      var strings = tween.to.strings;\n      var round = tween.round;\n      var numbers = [];\n      var toNumbersLength = tween.to.numbers.length;\n      var progress = (void 0);\n      for (var n = 0; n < toNumbersLength; n++) {\n        var value = (void 0);\n        var toNumber = tween.to.numbers[n];\n        var fromNumber = tween.from.numbers[n] || 0;\n        if (!tween.isPath) {\n          value = fromNumber + (eased * (toNumber - fromNumber));\n        } else {\n          value = getPathProgress(tween.value, eased * toNumber);\n        }\n        if (round) {\n          if (!(tween.isColor && n > 2)) {\n            value = Math.round(value * round) / round;\n          }\n        }\n        numbers.push(value);\n      }\n      // Manual Array.reduce for better performances\n      var stringsLength = strings.length;\n      if (!stringsLength) {\n        progress = numbers[0];\n      } else {\n        progress = strings[0];\n        for (var s = 0; s < stringsLength; s++) {\n          var a = strings[s];\n          var b = strings[s + 1];\n          var n$1 = numbers[s];\n          if (!isNaN(n$1)) {\n            if (!b) {\n              progress += n$1 + ' ';\n            } else {\n              progress += n$1 + b;\n            }\n          }\n        }\n      }\n      setProgressValue[anim.type](animatable.target, anim.property, progress, animatable.transforms);\n      anim.currentValue = progress;\n      i++;\n    }\n  }\n\n  function setCallback(cb) {\n    if (instance[cb] && !instance.passThrough) { instance[cb](instance); }\n  }\n\n  function countIteration() {\n    if (instance.remaining && instance.remaining !== true) {\n      instance.remaining--;\n    }\n  }\n\n  function setInstanceProgress(engineTime) {\n    var insDuration = instance.duration;\n    var insDelay = instance.delay;\n    var insEndDelay = insDuration - instance.endDelay;\n    var insTime = adjustTime(engineTime);\n    instance.progress = minMax((insTime / insDuration) * 100, 0, 100);\n    instance.reversePlayback = insTime < instance.currentTime;\n    if (children) { syncInstanceChildren(insTime); }\n    if (!instance.began && instance.currentTime > 0) {\n      instance.began = true;\n      setCallback('begin');\n    }\n    if (!instance.loopBegan && instance.currentTime > 0) {\n      instance.loopBegan = true;\n      setCallback('loopBegin');\n    }\n    if (insTime <= insDelay && instance.currentTime !== 0) {\n      setAnimationsProgress(0);\n    }\n    if ((insTime >= insEndDelay && instance.currentTime !== insDuration) || !insDuration) {\n      setAnimationsProgress(insDuration);\n    }\n    if (insTime > insDelay && insTime < insEndDelay) {\n      if (!instance.changeBegan) {\n        instance.changeBegan = true;\n        instance.changeCompleted = false;\n        setCallback('changeBegin');\n      }\n      setCallback('change');\n      setAnimationsProgress(insTime);\n    } else {\n      if (instance.changeBegan) {\n        instance.changeCompleted = true;\n        instance.changeBegan = false;\n        setCallback('changeComplete');\n      }\n    }\n    instance.currentTime = minMax(insTime, 0, insDuration);\n    if (instance.began) { setCallback('update'); }\n    if (engineTime >= insDuration) {\n      lastTime = 0;\n      countIteration();\n      if (!instance.remaining) {\n        instance.paused = true;\n        if (!instance.completed) {\n          instance.completed = true;\n          setCallback('loopComplete');\n          setCallback('complete');\n          if (!instance.passThrough && 'Promise' in window) {\n            resolve();\n            promise = makePromise(instance);\n          }\n        }\n      } else {\n        startTime = now;\n        setCallback('loopComplete');\n        instance.loopBegan = false;\n        if (instance.direction === 'alternate') {\n          toggleInstanceDirection();\n        }\n      }\n    }\n  }\n\n  instance.reset = function() {\n    var direction = instance.direction;\n    instance.passThrough = false;\n    instance.currentTime = 0;\n    instance.progress = 0;\n    instance.paused = true;\n    instance.began = false;\n    instance.loopBegan = false;\n    instance.changeBegan = false;\n    instance.completed = false;\n    instance.changeCompleted = false;\n    instance.reversePlayback = false;\n    instance.reversed = direction === 'reverse';\n    instance.remaining = instance.loop;\n    children = instance.children;\n    childrenLength = children.length;\n    for (var i = childrenLength; i--;) { instance.children[i].reset(); }\n    if (instance.reversed && instance.loop !== true || (direction === 'alternate' && instance.loop === 1)) { instance.remaining++; }\n    setAnimationsProgress(instance.reversed ? instance.duration : 0);\n  };\n\n  // Set Value helper\n\n  instance.set = function(targets, properties) {\n    setTargetsValue(targets, properties);\n    return instance;\n  };\n\n  instance.tick = function(t) {\n    now = t;\n    if (!startTime) { startTime = now; }\n    setInstanceProgress((now + (lastTime - startTime)) * anime.speed);\n  };\n\n  instance.seek = function(time) {\n    setInstanceProgress(adjustTime(time));\n  };\n\n  instance.pause = function() {\n    instance.paused = true;\n    resetTime();\n  };\n\n  instance.play = function() {\n    if (!instance.paused) { return; }\n    if (instance.completed) { instance.reset(); }\n    instance.paused = false;\n    activeInstances.push(instance);\n    resetTime();\n    if (!raf) { engine(); }\n  };\n\n  instance.reverse = function() {\n    toggleInstanceDirection();\n    resetTime();\n  };\n\n  instance.restart = function() {\n    instance.reset();\n    instance.play();\n  };\n\n  instance.reset();\n\n  if (instance.autoplay) { instance.play(); }\n\n  return instance;\n\n}\n\n// Remove targets from animation\n\nfunction removeTargetsFromAnimations(targetsArray, animations) {\n  for (var a = animations.length; a--;) {\n    if (arrayContains(targetsArray, animations[a].animatable.target)) {\n      animations.splice(a, 1);\n    }\n  }\n}\n\nfunction removeTargets(targets) {\n  var targetsArray = parseTargets(targets);\n  for (var i = activeInstances.length; i--;) {\n    var instance = activeInstances[i];\n    var animations = instance.animations;\n    var children = instance.children;\n    removeTargetsFromAnimations(targetsArray, animations);\n    for (var c = children.length; c--;) {\n      var child = children[c];\n      var childAnimations = child.animations;\n      removeTargetsFromAnimations(targetsArray, childAnimations);\n      if (!childAnimations.length && !child.children.length) { children.splice(c, 1); }\n    }\n    if (!animations.length && !children.length) { instance.pause(); }\n  }\n}\n\n// Stagger helpers\n\nfunction stagger(val, params) {\n  if ( params === void 0 ) params = {};\n\n  var direction = params.direction || 'normal';\n  var easing = params.easing ? parseEasings(params.easing) : null;\n  var grid = params.grid;\n  var axis = params.axis;\n  var fromIndex = params.from || 0;\n  var fromFirst = fromIndex === 'first';\n  var fromCenter = fromIndex === 'center';\n  var fromLast = fromIndex === 'last';\n  var isRange = is.arr(val);\n  var val1 = isRange ? parseFloat(val[0]) : parseFloat(val);\n  var val2 = isRange ? parseFloat(val[1]) : 0;\n  var unit = getUnit(isRange ? val[1] : val) || 0;\n  var start = params.start || 0 + (isRange ? val1 : 0);\n  var values = [];\n  var maxValue = 0;\n  return function (el, i, t) {\n    if (fromFirst) { fromIndex = 0; }\n    if (fromCenter) { fromIndex = (t - 1) / 2; }\n    if (fromLast) { fromIndex = t - 1; }\n    if (!values.length) {\n      for (var index = 0; index < t; index++) {\n        if (!grid) {\n          values.push(Math.abs(fromIndex - index));\n        } else {\n          var fromX = !fromCenter ? fromIndex%grid[0] : (grid[0]-1)/2;\n          var fromY = !fromCenter ? Math.floor(fromIndex/grid[0]) : (grid[1]-1)/2;\n          var toX = index%grid[0];\n          var toY = Math.floor(index/grid[0]);\n          var distanceX = fromX - toX;\n          var distanceY = fromY - toY;\n          var value = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\n          if (axis === 'x') { value = -distanceX; }\n          if (axis === 'y') { value = -distanceY; }\n          values.push(value);\n        }\n        maxValue = Math.max.apply(Math, values);\n      }\n      if (easing) { values = values.map(function (val) { return easing(val / maxValue) * maxValue; }); }\n      if (direction === 'reverse') { values = values.map(function (val) { return axis ? (val < 0) ? val * -1 : -val : Math.abs(maxValue - val); }); }\n    }\n    var spacing = isRange ? (val2 - val1) / maxValue : val1;\n    return start + (spacing * (Math.round(values[i] * 100) / 100)) + unit;\n  }\n}\n\n// Timeline\n\nfunction timeline(params) {\n  if ( params === void 0 ) params = {};\n\n  var tl = anime(params);\n  tl.duration = 0;\n  tl.add = function(instanceParams, timelineOffset) {\n    var tlIndex = activeInstances.indexOf(tl);\n    var children = tl.children;\n    if (tlIndex > -1) { activeInstances.splice(tlIndex, 1); }\n    function passThrough(ins) { ins.passThrough = true; }\n    for (var i = 0; i < children.length; i++) { passThrough(children[i]); }\n    var insParams = mergeObjects(instanceParams, replaceObjectProps(defaultTweenSettings, params));\n    insParams.targets = insParams.targets || params.targets;\n    var tlDuration = tl.duration;\n    insParams.autoplay = false;\n    insParams.direction = tl.direction;\n    insParams.timelineOffset = is.und(timelineOffset) ? tlDuration : getRelativeValue(timelineOffset, tlDuration);\n    passThrough(tl);\n    tl.seek(insParams.timelineOffset);\n    var ins = anime(insParams);\n    passThrough(ins);\n    children.push(ins);\n    var timings = getInstanceTimings(children, params);\n    tl.delay = timings.delay;\n    tl.endDelay = timings.endDelay;\n    tl.duration = timings.duration;\n    tl.seek(0);\n    tl.reset();\n    if (tl.autoplay) { tl.play(); }\n    return tl;\n  };\n  return tl;\n}\n\nanime.version = '3.1.0';\nanime.speed = 1;\nanime.running = activeInstances;\nanime.remove = removeTargets;\nanime.get = getOriginalTargetValue;\nanime.set = setTargetsValue;\nanime.convertPx = convertPxToUnit;\nanime.path = getPath;\nanime.setDashoffset = setDashoffset;\nanime.stagger = stagger;\nanime.timeline = timeline;\nanime.easing = parseEasings;\nanime.penner = penner;\nanime.random = function (min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; };\n\nexport default anime;\n"],"sourceRoot":""}